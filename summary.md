# My Experience Building Bouncer Steve

## Introduction

Bouncer Steve emerged from my fascination with ChatGPT and OpenAI technologies. It has been an adventure in learning and applying AI in a project that was as educational as it was entertaining. By now, I feel like I've finally grown into the headline on my [LinkedIn](https://www.linkedin.com/in/saogrady/) — "AI-integrated apps developer"!

## Origin Story

The project began with a simple goal: automate the whitelisting process for a Minecraft server. But as Bouncer Steve took shape, I saw an opportunity to craft an engaging AI personality that could interact with users naturally. Excited to get this deployed, I found a hack solution by running the script on Replit and having another site "watch" the page generated by Replit in order to keep it up. For the coming weeks everybody seemed to be having fun engaging with Bouncer Steve. This initial version of Steve, though basic, laid the groundwork for the more sophisticated system that would follow.

## Learning Curve

As I navigated through bot development, I quickly encountered the limits of a basic implementation. Steve initially lacked context in conversations and appeared to show favoritism among server members due to the random nature of responses. The deployment solution I had utilized was prone to crashing, and necessitated a more robust hosting solution in the final version. The need for a more nuanced, context-aware bot was clear. And the favoritism needed to be a feature.

## Architectural Foundations

In rebuilding Steve, I had the intention this time to eventually publish. Consequently, I sought to first create a solid architecture before writing any code that would support robust, maintainable, and scalable features:

- `discord_client.py`: Handles Discord events and commands.
- `config_manager.py`: Manages OpenAI API configurations.
- `context_manager.py`: Maintains conversation context.
- `mood_manager`: Tracks Steve's mood.
- `openai_client.py`: Interfaces with OpenAI APIs.
- `rcon_client.py`: Communicates with the Minecraft server.
- `relationship_manager.py`: Manages user relationships.
- `usage_logger.py`: Records OpenAI API usage.

This approach enabled me to build a foundation that could support Steve's growth over time.

## Character Crafting Through Prompt Engineering

The essence of Bouncer Steve’s interactions lies in the carefully constructed prompt that encapsulates his character. The prompt acts as a set of instructions that guide the AI to embody Steve's unique personality traits, from his Brooklyn accent to his opinionated yet caring nature.

```python
system_role = f"""
    You are a Discord bot called Bouncer Steve, as in if Steve from Minecraft was a bouncer.
    Steve has been working in NYC so he speaks, talks, and writes with a mild Brooklyn accent.
    Steve is opinionated, and he will always pick a position when asked to choose.
    Steve acts tough, but he cares about helping people and giving good advice.
    Respond to <@{prompt.author.id}> (this exact format) as if you were Steve.
    Be concise in your response.
    Take a deep breath and work on your response step-by-step.
"""
```

Here's a breakdown of how the prompt influences the AI's behavior:

- **Personality**: By specifying that Steve "speaks, talks, and writes with a mild Brooklyn accent," the prompt nudges the AI towards a specific regional dialect, which adds a layer of authenticity to his character.

- **Opinions**: Stating that "Steve is opinionated, and he will always pick a position" tells the AI that the responses should be decisive, giving Steve a strong and confident voice. Without this, the AI will remain neutral on most matters, which is not nearly as engaging.

- **Empathy**: The addition of "Steve acts tough, but he cares about helping people and giving good advice" informs the AI that, despite a tough exterior, responses should carry an underlying tone of helpfulness and support.

- **Addressing the User**: Including the directive "Respond to <@{prompt.author.id}> (this exact format) as if you were Steve" ensures that the AI personalizes its response, making the user feel directly engaged with Steve. It also ensures that the AI follows the syntax for a Discord mention when replying.

- **Conciseness**: The instruction "Be concise in your response" guides the AI to avoid verbose answers, keeping the interaction crisp and to the point. This also saves on cost and performance of calls to the OpenAI APIs.

- **Thoughtfulness**: Finally, "Take a deep breath and work on your response step-by-step" is a meta-instruction that adds a human-like pause for consideration, emphasizing a thoughtful and measured response. This is a technique for getting higher-quality output from ChatGPT from [this academic paper](https://arxiv.org/abs/2309.03409).

This prompt was crafted over the course of multiple weeks. As Bouncer Steve engaged with users, the prompt evolved. User feedback was invaluable; it shed light on how Steve was perceived and interacted with, which in turn informed further refinements to his character. This iterative process was not just technical—it was creative and collaborative, drawing on community interactions to shape Steve’s evolution.

## Lessons Learned

### Scoping

As I embarked on this journey with Bouncer Steve, I quickly recognized the ambitious nature of the project's scope, especially for a one-week timeframe. My primary achievements were rebuilding Steve in Python and implementing a robust logging system. These were significant milestones, yet the breadth of my vision—incorporating the Assistants API and a fine-tuned model—remained beyond my reach within the allotted time. Rather than seeing this as a setback, it was a profound learning moment and a testament to the project's future potential.

### Architecture

At the start of my rebuild of Steve, my focus was to craft a seamless architecture that could facilitate his growth. An oversight in my design phase has cause me to encounter a pivotal challenge: the need for Discord server-specific instances of Steve's behavior. This meant that my application would require an additional layer—interfacing between `discord_client` and its associated managers and clients. Addressing this will involve significant re-architecture and code overhaul.

## Conclusion

The development of Bouncer Steve has been a profound lesson in learning the capabilities and the potential of large language models for creating engaging online community experiences. I'm disappointed I couldn't get to working on the cool features I had planned, such as relationship management and mood, but I don't plan to stop here. As I continue to develop the project, these insights will inform my approach, ensuring that Steve remains a beloved character within the Discord communities he moonlights at!